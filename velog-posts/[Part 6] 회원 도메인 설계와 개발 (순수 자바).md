# [Part 6] íšŒì› ë„ë©”ì¸ ì„¤ê³„ì™€ ê°œë°œ (ìˆœìˆ˜ ìë°”)

**Published:** Thu, 15 Jan 2026 09:18:05 GMT
**Link:** https://velog.io/@kik328288/Part-6-%ED%9A%8C%EC%9B%90-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%84%A4%EA%B3%84%EC%99%80-%EA%B0%9C%EB%B0%9C-%EC%88%9C%EC%88%98-%EC%9E%90%EB%B0%94

---

<h2 id="1-ë¹„ì¦ˆë‹ˆìŠ¤-ìš”êµ¬ì‚¬í•­-ë¶„ì„">1. ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ ë¶„ì„</h2>
<hr />
<p>ê¸°íšìë¡œë¶€í„° ë‹¤ìŒê³¼ ê°™ì€ ìš”êµ¬ì‚¬í•­ì„ ì „ë‹¬ë°›ì•˜ë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤.</p>
<ul>
<li><strong>íšŒì›:</strong><ul>
<li>ê°€ì…í•˜ê³  ì¡°íšŒí•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</li>
<li>ë“±ê¸‰ì€ <strong>ì¼ë°˜(Basic)</strong>ê³¼ <strong>VIP</strong> ë‘ ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.</li>
</ul>
</li>
<li><strong>ë°ì´í„° ì €ì¥ì†Œ:</strong><ul>
<li>íšŒì› ë°ì´í„°ëŠ” ìì²´ DBë¥¼ êµ¬ì¶•í•  ìˆ˜ë„ ìˆê³ , ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ì—°ë™í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</li>
<li><strong>ì¤‘ìš”:</strong> ì•„ì§ <strong>ë°ì´í„° ì €ì¥ì†Œê°€ í™•ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤</strong>.</li>
</ul>
</li>
</ul>
<p><strong>ğŸ¤” ê°œë°œìì˜ ê³ ë¯¼:</strong>
&quot;DBê°€ í™•ì •ë  ë•Œê¹Œì§€ ê°œë°œì„ ë¯¸ë¤„ì•¼ í• ê¹Œìš”?&quot;
ì•„ë‹™ë‹ˆë‹¤. ìš°ë¦¬ëŠ” <strong>ê°ì²´ ì§€í–¥ ì„¤ê³„(ì—­í• ê³¼ êµ¬í˜„ì˜ ë¶„ë¦¬)</strong>ë¥¼ ë°°ì› ìŠµë‹ˆë‹¤. ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  êµ¬í˜„ì²´ë¥¼ ì–¸ì œë“ ì§€ ê°ˆì•„ ë¼ìš¸ ìˆ˜ ìˆë„ë¡ ì„¤ê³„í•˜ë©´ ë©ë‹ˆë‹¤.</p>
<hr />
<h2 id="2-íšŒì›-ë„ë©”ì¸-ì„¤ê³„">2. íšŒì› ë„ë©”ì¸ ì„¤ê³„</h2>
<hr />
<h3 id="1-ë„ë©”ì¸-í˜‘ë ¥-ê´€ê³„-ê¸°íšìê°œë°œì-ê³µìš©">1) ë„ë©”ì¸ í˜‘ë ¥ ê´€ê³„ (ê¸°íšì/ê°œë°œì ê³µìš©)</h3>
<hr />
<ul>
<li><strong>í´ë¼ì´ì–¸íŠ¸</strong> $\rightarrow$ <strong>íšŒì› ì„œë¹„ìŠ¤</strong> (íšŒì›ê°€ì…, íšŒì›ì¡°íšŒ) $\rightarrow$ <strong>íšŒì› ì €ì¥ì†Œ</strong> (ë©”ëª¨ë¦¬, DB, ì™¸ë¶€ì‹œìŠ¤í…œ)</li>
<li>ì €ì¥ì†Œì˜ ì—­í• ë§Œ ì •ì˜í•´ë‘ê³ , ì‹¤ì œ ì €ì¥ì€ ë©”ëª¨ë¦¬ì— í• ì§€ DBì— í• ì§€ ë‚˜ì¤‘ì— ê²°ì •í•©ë‹ˆë‹¤.</li>
</ul>
<p><img alt="" src="https://velog.velcdn.com/images/kik328288/post/80191645-7da1-4bab-9611-21ae735fd0f6/image.png" /></p>
<h3 id="2-í´ë˜ìŠ¤-ë‹¤ì´ì–´ê·¸ë¨-ê°œë°œììš©---ì •ì ">2) í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ (ê°œë°œììš© - ì •ì )</h3>
<hr />
<p><img alt="" src="https://velog.velcdn.com/images/kik328288/post/065837dc-39df-416d-b81e-32c3a5163dfb/image.png" /></p>
<ul>
<li><strong>Interface:</strong> <code>MemberService</code>, <code>MemberRepository</code>.</li>
<li><strong>Implementation:</strong> <code>MemberServiceImpl</code>, <code>MemoryMemberRepository</code>, <code>DbMemberRepository</code>.</li>
<li><code>MemberService</code>ëŠ” <code>MemberRepository</code> ì¸í„°í˜ì´ìŠ¤ë¥¼ ì˜ì¡´í•©ë‹ˆë‹¤.</li>
</ul>
<h3 id="3-ê°ì²´-ë‹¤ì´ì–´ê·¸ë¨">3) ê°ì²´ ë‹¤ì´ì–´ê·¸ë¨</h3>
<hr />
<ul>
<li>ì•± ì‹¤í–‰ ì‹œì ì— ì‹¤ì œ ìƒì„±ë˜ëŠ” ê°ì²´ë“¤ì˜ ì°¸ì¡° ê´€ê³„ (Newë¡œ ìƒì„±ëœ ì¸ìŠ¤í„´ìŠ¤ ê°„ì˜ ì—°ê²°).</li>
</ul>
<p><img alt="" src="https://velog.velcdn.com/images/kik328288/post/4df854e6-3921-45ea-bd01-38ad8e8d1eb6/image.png" /></p>
<h2 id="3-íšŒì›-ë„ë©”ì¸-ê°œë°œ-ì½”ë“œ-ì‘ì„±">3. íšŒì› ë„ë©”ì¸ ê°œë°œ (ì½”ë“œ ì‘ì„±)</h2>
<hr />
<h3 id="1-íšŒì›-ì—”í‹°í‹°-member">1) íšŒì› ì—”í‹°í‹° (<code>Member</code>)</h3>
<hr />
<p>ë‹¨ìˆœí•œ ë°ì´í„° ì „ì†¡ ê°ì²´ë¡œ, <code>id</code>, <code>name</code>, <code>grade</code>ë¥¼ ê°€ì§‘ë‹ˆë‹¤.</p>
<ul>
<li>alt + insert ë²„íŠ¼ì„ í†µí•´ ìƒì„±ì, getter, setter ë“±ì„ í•œ ë²ˆì— ì½”ë“œì— ì‚½ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
</ul>
<pre><code class="language-java">package hello.core.member;

public class Member {
    private Long id;
    private String name;
    private Grade grade;

    public Member(Long id, String name, Grade grade) {
        this.id = id;
        this.name = name;
        this.grade = grade;
    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public Grade getGrade() {
        return grade;
    }

    public void setGrade(Grade grade) {
        this.grade = grade;
    }
}</code></pre>
<h3 id="2-íšŒì›-ì €ì¥ì†Œ-memberrepository">2) íšŒì› ì €ì¥ì†Œ (<code>MemberRepository</code>)</h3>
<hr />
<ul>
<li><strong>ì¸í„°í˜ì´ìŠ¤:</strong> <code>save()</code>, <code>findById()</code> ê¸°ëŠ¥ì„ ì •ì˜í•©ë‹ˆë‹¤.</li>
</ul>
<pre><code class="language-java">package hello.core.member;

public interface MemberRepository {
    void save(Member member);

    Member findById(Long memberId);
}</code></pre>
<ul>
<li><strong>êµ¬í˜„ì²´ (<code>MemoryMemberRepository</code>):</strong><ul>
<li>DB í™•ì • ì „ê¹Œì§€ ê°œë°œì„ ì§„í–‰í•˜ê¸° ìœ„í•´ ê°€ì¥ ë‹¨ìˆœí•œ <strong>ë©”ëª¨ë¦¬ ì €ì¥ì†Œ</strong>ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.</li>
<li><code>Map&lt;Long, Member&gt;</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.</li>
</ul>
</li>
</ul>
<pre><code class="language-java">package hello.core.member;

import java.util.HashMap;
import java.util.Map;

public class MemoryMemberRepository implements MemberRepository {

        // ì‹¤ë¬´ì—ì„œëŠ” ë™ì‹œì„± ì´ìŠˆë¡œ ConcurrentHashMap ì‚¬ìš© ê¶Œì¥
    private static Map&lt;Long, Member&gt; store = new HashMap&lt;&gt;();

    @Override
    public void save(Member member) {
        store.put(member.getId(), member);
    }

    @Override
    public Member findById(Long memberId) {
        return store.get(memberId);
    }

}</code></pre>
<h3 id="3-íšŒì›-ì„œë¹„ìŠ¤-memberservice">3) íšŒì› ì„œë¹„ìŠ¤ (<code>MemberService</code>)</h3>
<hr />
<ul>
<li><strong>ì¸í„°í˜ì´ìŠ¤</strong></li>
</ul>
<pre><code class="language-java">package hello.core.member;

public interface MemberService {
    void join(Member member);

    Member findMember(Long memberId);
}</code></pre>
<ul>
<li><strong>êµ¬í˜„ì²´ (<code>MemberServiceImpl</code>):</strong><ul>
<li>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§(ê°€ì…, ì¡°íšŒ)ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.</li>
<li><strong>âš ï¸ ì£¼ì˜í•  ì :</strong> ì˜ì¡´ê´€ê³„ë¥¼ ì„¤ì •í•˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤.</li>
</ul>
</li>
</ul>
<pre><code class="language-java">package hello.core.member;

public class MemberServiceImpl implements MemberService {

    // DIP ìœ„ë°˜: êµ¬í˜„ì²´(MemoryMemberRepository)ë¥¼ ì§ì ‘ newë¡œ ìƒì„±í•˜ì—¬ ì˜ì¡´ ì¤‘
    private final MemberRepository memberRepository = new MemoryMemberRepository();

    @Override
    public void join(Member member) {
        memberRepository.save(member);
    }

    @Override
    public Member findMember(Long memberId) {
        return memberRepository.findById(memberId);
    }

}</code></pre>
<p><strong>êµ¬í˜„ì²´ ì˜ì¡´ì˜ ë¬¸ì œì  (DIP ìœ„ë°˜):</strong></p>
<ul>
<li>í˜„ì¬ <code>MemberServiceImpl</code> ì½”ë“œëŠ” ìˆœìˆ˜ ìë°”ë¡œ ì‘ì„±í•˜ë‹¤ ë³´ë‹ˆ, ì¸í„°í˜ì´ìŠ¤ë¥¼ ì“°ë©´ì„œë„ êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ ì§ì ‘ <code>new</code>í•˜ê³  ìˆìŠµë‹ˆë‹¤.</li>
<li>ì´ê²ƒì€ <strong>&quot;ë°°ìš°(Service)ê°€ ì§ì ‘ ìƒëŒ€ ë°°ìš°(Repository)ë¥¼ ìºìŠ¤íŒ…í•˜ëŠ” ìƒí™©&quot;</strong>ê³¼ ê°™ìŠµë‹ˆë‹¤.</li>
<li>ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë‹¤ìŒ íŒŒíŠ¸ë“¤ì—ì„œ <strong>'ì£¼ë¬¸ ë„ë©”ì¸'</strong>ì„ ë§Œë“¤ë©° ë¬¸ì œì ì„ í‚¤ì›Œë³´ê³ , ê²°êµ­ <strong>ìŠ¤í”„ë§</strong>ì´ ë“±ì¥í•˜ê²Œ ë©ë‹ˆë‹¤.</li>
</ul>
<h3 id="4-íšŒì›-ë“±ê¸‰-grade">4) íšŒì› ë“±ê¸‰ (<code>Grade</code>)</h3>
<hr />
<pre><code class="language-java">package hello.core.member;

public enum Grade {
    BASIC,
    VIP
}</code></pre>
<h2 id="4-íšŒì›-ë„ë©”ì¸-ì‹¤í–‰ê³¼-í…ŒìŠ¤íŠ¸">4. íšŒì› ë„ë©”ì¸ ì‹¤í–‰ê³¼ í…ŒìŠ¤íŠ¸</h2>
<hr />
<p>ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§ì´ ì˜ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤. <code>main</code> ë©”ì„œë“œì—ì„œ ì§ì ‘ ì‹¤í–‰í•´ë³¼ ìˆ˜ë„ ìˆì§€ë§Œ, ì‹¤ë¬´ì—ì„œëŠ” <strong>JUnit</strong> í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
<h3 id="íšŒì›ê°€ì…-main-memberapp">íšŒì›ê°€ì… Main (<code>MemberApp</code>)</h3>
<hr />
<pre><code class="language-java">package hello.core;

import hello.core.member.Grade;
import hello.core.member.Member;
import hello.core.member.MemberService;
import hello.core.member.MemberServiceImpl;

public class MemberApp {

    public static void main(String[] args) {
        MemberService memberService = new MemberServiceImpl();
        Member member = new Member(1L, &quot;memberA&quot;, Grade.VIP);
        memberService.join(member);

        Member findMember = memberService.findMember(1L);
        System.out.println(&quot;new Member = &quot; + member.getName());
        System.out.println(&quot;find Member = &quot; + findMember.getName());
    }

}</code></pre>
<h3 id="junit-í…ŒìŠ¤íŠ¸-memberservicetest">JUnit í…ŒìŠ¤íŠ¸ (<code>MemberServiceTest</code>)</h3>
<hr />
<ul>
<li><strong>Given:</strong> í™˜ê²½ ê¸°ë°˜ (VIP íšŒì› ìƒì„±).</li>
<li><strong>When:</strong> ë™ì‘ (íšŒì› ê°€ì… ì‹¤í–‰).</li>
<li><strong>Then:</strong> ê²€ì¦ (ê°€ì…í•œ íšŒì›ì´ ì¡°íšŒëœ íšŒì›ê³¼ ê°™ì€ê°€?).</li>
</ul>
<pre><code class="language-java">package hello.core.member;

import org.junit.jupiter.api.Test;

// [ì¤‘ìš”] ìµœì‹  íŠ¸ë Œë“œ: AssertJì˜ static import ì‚¬ìš©
import static org.assertj.core.api.Assertions.*;

public class MemberServiceTest {

    MemberService memberService = new MemberServiceImpl();

    @Test
    void join() {
        // given
        Member member = new Member(1L, &quot;memberA&quot;, Grade.VIP);

        // when
        memberService.join(member);
        Member findMember = memberService.findMember(1L);

        // then
        // AssertJ ì‚¬ìš© (ì½ê¸° ì‰¬ìš´ ê²€ì¦ ë¼ì´ë¸ŒëŸ¬ë¦¬)
        assertThat(member).isEqualTo(findMember);
    }

}</code></pre>
<p><strong>í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ í‘œì¤€í™” (AssertJ):</strong></p>
<ul>
<li>ê³¼ê±°: <code>Assertions.assertEquals(expected, actual)</code> (ìˆœì„œ í—·ê°ˆë¦¼)</li>
<li><strong>í˜„ì¬:</strong> <code>assertThat(actual).isEqualTo(expected)</code> (ì§ê´€ì , ì²´ì´ë‹ ê°€ëŠ¥)</li>
<li>ê°•ì˜ êµì•ˆë„ AssertJë¥¼ ì“°ì§€ë§Œ, import ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ <code>static import</code> ì‚¬ìš©ì„ ìƒí™œí™”í•˜ì„¸ìš”.</li>
</ul>
<h2 id="5-ì°¸ê³ -ìë£Œ">5. ì°¸ê³  ìë£Œ</h2>
<hr />
<p>ë‹¨ìˆœí•œ ì˜ˆì œ ì½”ë“œ ë’¤ì— ìˆ¨ê²¨ì§„ ì‹¤ë¬´ ì§€ì‹ì„ ë³´ì¶©í•´ ë“œë¦½ë‹ˆë‹¤.</p>
<h3 id="1-hashmap-vs-concurrenthashmap">1. <code>HashMap</code> vs <code>ConcurrentHashMap</code></h3>
<hr />
<p>êµì•ˆ ì½”ë“œì— <code>store</code> ë³€ìˆ˜ë¥¼ ì„ ì–¸í•  ë•Œ <code>HashMap</code>ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì‹¤ë¬´ì—ì„œëŠ” <strong>ë™ì‹œì„± ì´ìŠˆ(Concurrency Issue)</strong>ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<ul>
<li><strong>ë¬¸ì œ:</strong> ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— <code>HashMap</code>ì— ì ‘ê·¼í•˜ì—¬ <code>put</code>ì„ ì‹œë„í•˜ë©´ ë°ì´í„°ê°€ ê¼¬ì´ê±°ë‚˜ ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
<li><strong>í•´ê²°:</strong> ì‹¤ë¬´ì—ì„œ ë™ì‹œ ì ‘ê·¼ì´ ë°œìƒí•˜ëŠ” í™˜ê²½ì´ë¼ë©´ <code>ConcurrentHashMap</code>ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.</li>
<li><strong>ì°¸ê³  ìë£Œ:</strong> <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html">Java ê³µì‹ ë¬¸ì„œ - ConcurrentHashMap</a></li>
</ul>
<h3 id="2-ì™œ-êµ¬í˜„ì²´-ì´ë¦„-ë’¤ì—-implì„-ë¶™ì´ë‚˜ìš”">2. ì™œ êµ¬í˜„ì²´ ì´ë¦„ ë’¤ì— <code>Impl</code>ì„ ë¶™ì´ë‚˜ìš”?</h3>
<hr />
<p>ìë°” ê°œë°œìë“¤ ì‚¬ì´ì˜ ê´€ë¡€(Convention)ì…ë‹ˆë‹¤.</p>
<ul>
<li>ì¸í„°í˜ì´ìŠ¤ í•˜ë‚˜ì— êµ¬í˜„ í´ë˜ìŠ¤ê°€ <strong>ì˜¤ì§ í•˜ë‚˜</strong>ë§Œ ìˆì„ ë•ŒëŠ” ê´€ë¡€ì ìœ¼ë¡œ <code>InterfaceName</code> + <code>Impl</code>ì´ë¼ê³  ì§“ìŠµë‹ˆë‹¤.</li>
<li>ë§Œì•½ êµ¬í˜„ì²´ê°€ 2ê°œ ì´ìƒ(ì˜ˆ: <code>MemoryMemberRepository</code>, <code>DbMemberRepository</code>)ì´ë¼ë©´ <code>Impl</code>ì„ ë¶™ì´ì§€ ì•Šê³  ê°ê°ì˜ íŠ¹ì§•ì„ ë“œëŸ¬ë‚´ëŠ” ì´ë¦„ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</li>
</ul>
<h3 id="3-assertj-vs-junit-assertions">3. AssertJ vs JUnit Assertions</h3>
<hr />
<p>í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ <code>org.assertj.core.api.Assertions</code>ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë³´ì…¨ì„ ê²ë‹ˆë‹¤.</p>
<ul>
<li><strong>JUnit ê¸°ë³¸:</strong> <code>assertEquals(expected, actual)</code> - ìˆœì„œê°€ í—·ê°ˆë¦¬ê³  ê°€ë…ì„±ì´ ì¡°ê¸ˆ ë–¨ì–´ì§.</li>
<li><strong>AssertJ:</strong> <code>assertThat(actual).isEqualTo(expected)</code> - ë¬¸ì¥ì²˜ëŸ¼ ì½í˜€ì„œ ê°€ë…ì„±ì´ í›¨ì”¬ ì¢‹ìŠµë‹ˆë‹¤. ìµœê·¼ ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ì—ì„œëŠ” AssertJë¥¼ ê¸°ë³¸ìœ¼ë¡œ ë§ì´ ì‚¬ìš©í•©ë‹ˆë‹¤.</li>
<li><strong>ì°¸ê³  ìë£Œ:</strong> <a href="https://assertj.github.io/doc/">AssertJ ê³µì‹ ë¬¸ì„œ</a></li>
</ul>