# 스프링 DB 접근 기술 - H2 데이터베이스

**Published:** Fri, 09 Jan 2026 07:28:15 GMT
**Link:** https://velog.io/@kik328288/%EC%8A%A4%ED%94%84%EB%A7%81-DB-%EC%A0%91%EA%B7%BC-%EA%B8%B0%EC%88%A0-H2-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4

---

<p>데이터베이스 접근 기술은 <strong>순수 JDBC -&gt; 스프링 JdbcTemplate -&gt; JPA -&gt; 스프링 데이터 JPA</strong> 순서로 발전해왔다. 개발 생산성을 높이고 코드를 간결하게 만드는 방향으로 진화했다.</p>
<h2 id="10-h2-데이터베이스-설치">10. H2 데이터베이스 설치</h2>
<hr />
<p>개발이나 테스트 용도로 사용하기 좋은 가볍고 편리한 DB이다. 웹 화면(Console)을 제공한다.</p>
<h3 id="101-설치-및-실행">10.1 설치 및 실행</h3>
<hr />
<ul>
<li><strong>버전:</strong> 스프링 부트 버전에 맞춰 다운로드한다.<ul>
<li>스프링 부트 2.x를 사용하면 1.4.200 버전을 다운로드 받으면 된다.</li>
<li>스프링 부트 3.x를 사용하면 2.1.214 버전 이상 사용해야 한다.</li>
<li>다음 링크에 가면 다양한 H2 다운로드 버전을 확인할 수 있다.</li>
<li><a href="https://www.h2database.com/html/download-archive.html">https://www.h2database.com/html/download-archive.html</a></li>
</ul>
</li>
<li><strong>실행 (Mac/Linux):</strong> 권한 부여(<code>chmod 755 h2.sh</code>) 후 <code>./h2.sh</code> 실행 .</li>
<li><strong>실행 (Windows):</strong> <code>h2.bat</code> 실행.</li>
</ul>
<h3 id="102-데이터베이스-파일-생성">10.2 데이터베이스 파일 생성</h3>
<hr />
<p><img alt="" src="https://velog.velcdn.com/images/kik328288/post/dde077ed-90ec-400d-a054-5575d8716dd6/image.png" /></p>
<ol>
<li>최초 접속 시 JDBC URL: <code>jdbc:h2:~/test</code> (파일 모드로 생성).</li>
<li><code>~/test.mv.db</code> 파일 생성 확인.</li>
<li>이후 접속 시 JDBC URL: <code>jdbc:h2:tcp://localhost/~/test</code> (TCP 모드로 접속, 동시 접속 가능).</li>
</ol>
<blockquote>
<p>⚠️ 주의사항 웹 콘솔 진입 시 IP주소(100.1.2.3 등)가 포함된 URL로 리다이렉트된다면, 이를 localhost로 변경해야 한다.</p>
</blockquote>
<p><img alt="" src="https://velog.velcdn.com/images/kik328288/post/937f53f1-ef8d-4862-a820-6537655caf91/image.png" /></p>
<h3 id="103-테이블-생성-ddl">10.3 테이블 생성 (DDL)</h3>
<hr />
<p>프로젝트 루트에 <code>sql/ddl.sql</code>을 만들어 관리하면 편리하다.</p>
<pre><code class="language-sql">drop table if exists member CASCADE;
create table member
(
    id bigint generated by default as identity, -- ID 자동 생성
    name varchar(255),
    primary key (id)
);</code></pre>
<h3 id="104-h2-데이터베이스가-정상적으로-생성되지-않는-경우">10.4 H2 데이터베이스가 정상적으로 생성되지 않는 경우</h3>
<hr />
<p>다음과 같은 오류 메시지가 나오며 H2 데이터베이스가 정상 생성되지 않는 경우가 있다.</p>
<p><img alt="" src="https://velog.velcdn.com/images/kik328288/post/18316363-7c2d-453a-a034-a5225bc4eaa9/image.png" /></p>
<p>해결 방안은 다음과 같다.</p>
<ol>
<li><p>H2 데이터베이스를 종료하고, 다시 시작한다.</p>
</li>
<li><p>웹 브라우저가 자동 실행되면 주소창에 다음과 같이 되어 있다. (100.1.2.3이 아니라 임의의 숫자가 나온다.)</p>
<p> <img alt="" src="https://velog.velcdn.com/images/kik328288/post/bc30ca8f-5ee6-4f2e-afdf-f141dd12002d/image.png" /></p>
</li>
<li><p>다음과 같이 앞 부분만 100.1.2.3 → localhost로 변경하고 Enter를 입력한다. 나머지 부분은 절대 변경하면 안된다. (특히 뒤에 세션 부분이 변경되면 안된다.)</p>
<p> <img alt="" src="https://velog.velcdn.com/images/kik328288/post/516508f4-c68f-4db6-b33a-a50d2211d22b/image.png" /></p>
</li>
<li><p>데이터베이스 파일을 생성하면 (<code>jdbc:h2:~/test</code>), 데이터베이스가 정상 생성된다.</p>
</li>
</ol>